<html>
  <head>
    <!-- manifest.jsonを呼び出しています -->
    <link rel="manifest" href="./manifest.json">
    <script>
      var superReload = function(){
        location.reload(true);
      } 
    //   setInterval(superReload, 10000);
    //   // service workerが有効なら、service-worker.js を登録します
      alert('JavaScriptのアラート');
    if ('serviceWorker' in navigator) {
    navigator.serviceWorker
        .register('./service-worker.js')
        .then(registration => {
        // 登録成功
        registration.onupdatefound = function() {
            console.log('アップデートがあります！');
            registration.update();
        }
        })
        .catch(err => {
        // 登録失敗
    });
    const channel = new MessageChannel();
navigator.serviceWorker.controller
  .postMessage('update', [channel.port2]);
}
    </script>
    <meta http-equiv="content-type" charset="utf-8">
    <title>indexページ</title>
  </head>
  <body>
    <!-- <h1>PWA切り替え用ページ（トップページ）です</h1>
    <a href="https://pwa0913.herokuapp.com/2020/">2020</a> -->
    <h1>PWAです</h1>
    <a href="https://sy-eggplant.github.io/app/test.html">キャッシュテスト</a>
  </body>
</html>
